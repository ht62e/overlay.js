<template>
    <div id="\:all" class="module">
        <div>This is main.html</div>
        <div><input type="button" id="\:show_main2" value="show main2"></div>
        <div><input type="button" id="\:show_tab" value="show tab"></div>
        <div><input type="button" id="\:show_win1" value="show win1"></div>
        <div><input type="button" id="\:show_win2" value="show win2"></div>
        <div><input type="button" id="\:show_win3" value="show win3"></div>
        <div><input type="button" id="\:show_win1_as_modal" value="show win1 as modal"></div>
        <div><input type="button" id="\:show_win2_as_modal" value="show win2 as modal"></div>
        <div><input type="button" id="\:show_win3_as_modal" value="show win3 as modal"></div>
        <div><input type="button" id="\:back" value="back"></div>
        <div><input type="button" id="\:close" value="close"></div>
        <div><input type="text" id="\:input1"></div>
        <div id="\:vue_test" style="width: 200px;">
                <md-button class="md-raised md-primary">Vueボタン</md-button>
                <md-field>
                    <label>Type here!</label>
                    <md-input></md-input>
                    <span class="md-helper-text">Helper text</span>
                </md-field>
        </div>
        <h1>H1 CSS Test</h1>
        <div><textarea id="\:textarea1"></textarea></div>
    </div>
</template>

<style data-src="main.css"></style>

<style>
    #textarea1 {
        width: 400px;
        height: 200px;
    }
</style>

<template>
    aabbcctest
    <template>333</template>
    1231615
</template>

<script>
    // new Vue({
    //     el: '#\:vue_test',
    // })


    setTimeout(function() {
        document.getElementById("\:input1").value = "実行完了1";
    }, 1000);
</script>

<script data-script-type="prototype">
    

    this.textArea1 = document.getElementById("\:textarea1");

    document.getElementById("\:all").addEventListener("dblclick", (function() {
        this.$f.showContextMenu("popup1", null);
    }).bind(this));

    document.getElementById("\:show_main2").addEventListener("click", (function() {
        this.$f.push("main2", null);
    }).bind(this));

    document.getElementById("\:show_tab").addEventListener("click", (function() {
        this.$f.push("tab", null);
    }).bind(this));

    document.getElementById("\:show_win1").addEventListener("click", (function() {
        this.$f.showWindow("win1", null, null).then((function(result) {
            this.writeLine(JSON.stringify(result));
        }).bind(this));
    }).bind(this));

    document.getElementById("\:show_win2").addEventListener("click", (function() {
        this.$f.showWindow("win2", null, null).then((function(result) {
            this.writeLine(JSON.stringify(result));
        }).bind(this));
    }).bind(this));

    document.getElementById("\:show_win3").addEventListener("click", (function() {
        this.$f.showWindow("win3", null, null).then((function(result) {
            this.writeLine(JSON.stringify(result));
        }).bind(this));
    }).bind(this));

    document.getElementById("\:show_win1_as_modal").addEventListener("click", (function() {
        this.$f.showWindowAsModal("win1", null, null).then((function(result) {
            this.writeLine(JSON.stringify(result));
        }).bind(this));
    }).bind(this));

    document.getElementById("\:show_win2_as_modal").addEventListener("click", (function() {
        this.$f.showWindowAsModal("win2", null, null).then((function(result) {
            this.writeLine(JSON.stringify(result));
        }).bind(this));
    }).bind(this));

    document.getElementById("\:show_win3_as_modal").addEventListener("click", (function() {
        this.$f.showWindowAsModal("win3", null, null).then((function(result) {
            this.writeLine(JSON.stringify(result));
        }).bind(this));
    }).bind(this));

    document.getElementById("\:back").addEventListener("click", (function() {
        this.$f.pop("base.body");
    }).bind(this));

    document.getElementById("\:close").addEventListener("click", (function() {
        this.startExitProcess(0);
    }).bind(this));

    setTimeout(function() {
        document.getElementById("\:input1").value = "実行完了2";
    }, 2000);

    this.onLoad = function(param) {
        this.textArea1.value = "onLoad is called." + "\n";
    };

    this.onInitialize = function(param) {
        this.textArea1.value = "onInitialize is called." + "\n";
        if (param) {
            this.textArea1.value = param.toString() + "\n";
        }
    }

    this.onShow = function(isFirst, param) {
        this.textArea1.value += "onShow is called." + "\n";
        this.$f.setCaption("this is main : " + Date.now());
    }

    this.onHide = function(param) {
        this.textArea1.value += "onHide is called." + "\n";
    }

    this.onExit = function(actionType, returnFunctions) {
        if (actionType === 0) {
            returnFunctions.continueExit({data: "ok is pushed."});
        } else {
            if (window.confirm("cancel?")) {
                returnFunctions.continueExit({data: "cancel is pushed."});
            } else {
                returnFunctions.cancelExit();
            }
        }
    }

    this.writeLine = function(text) {
        this.textArea1.value += text + "\n";
    }
</script>

<script>
    setTimeout(function() {
        document.getElementById("\:input1").value = "実行完了3";
    }, 3000);
</script>

<script data-script-type="native">
    setTimeout(function() {
        document.getElementById("\:input1").value = "実行完了4";
    }, 4000);
</script>