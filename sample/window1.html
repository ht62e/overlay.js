<!DOCTYPE html>
<html lang="ja">

<head>
    <title>タイトル1</title>
<script src="../src-client/overlayjs-client.js"></script>
<script src="./lib/promise-7.0.4.min.js"></script>
<script>



    //*********************************************************

    window.addEventListener("load", function(e) {
        document.getElementById("ok_button").addEventListener("click", function(e) {
            OjsClient.returnAndClose("ABC123");
        });
        document.getElementById("cancel_button").addEventListener("click", function(e) {
            OjsClient.cancelAndClose();
        });
        document.getElementById("open1_button").addEventListener("click", function(e) {
            OjsClient.openNewIFrameWindowAsModal("modal1", "./window2.html", {size: {cssWidth: "800px", cssHeight: "200px"}}).then(function(d) {
                document.getElementById("log").innerHTML = JSON.stringify(d);
            }).catch(function(error) {
                document.getElementById("log").innerHTML = "キャンセル";
            });
        });

        document.getElementById("showLoadingOverlay").addEventListener("click", function(e) {
            OjsClient.showLoadingOverlay("testest");
            OjsClient.hideLoadingOverlay();
            OjsClient.showLoadingOverlay("testest");
            setTimeout(function(){OjsClient.hideLoadingOverlay()}, 1000);
            // window.setTimeout(function() {
            //     Overlayjs.hideLoadingOverlay();
            // }, 1000)
        });

        document.getElementById("open_contextmenu").addEventListener("click", function(e) {
            OjsClient.open("contextmenu");
        });  

    });
</script>

</head>
<body>
テストウインドウ1
<div id="log">

</div>
<input type="button" id="open1_button" value="モーダルオープン">
<input type="button" id="ok_button" value="OK">
<input type="button" id="cancel_button" value="キャンセル">
<input type="button" id="showLoadingOverlay" value="showLoadingOverlay">
<input type="button" id="open_contextmenu" value="open contextmenu">
</body>
</html>